'use strict';var React = require('react-native');var GLOBAL = require('./Globals');var LoginScreen = require('./LoginScreen');var{  View,  Text,  Image,  ListView,  StyleSheet,  ActivityIndicatorIOS,  AsyncStorage,  TouchableHighlight} = React;var buildUrl = function() {  return 'http://54.83.205.169/healthapp/user/logout';};var ResultsScreen = React.createClass({  getInitialState: function() {    return {      isLoading: true,      dataSource: ''    };  },  componentDidMount: function() {  //  this.fetchResults();  },  fetchResults: function(category) {    AsyncStorage.removeItem(GLOBAL.KEY.SESSION_ID);    AsyncStorage.removeItem(GLOBAL.KEY.SESSION_NAME);    AsyncStorage.removeItem(GLOBAL.KEY.TOKEN);    AsyncStorage.removeItem(GLOBAL.KEY.USER);    fetch(buildUrl())    .then(response => response.json())    .then(jsonData => {      this.setState({        isLoading: false,        dataSource: 'LOGOUT SUCCESSFULL'      });      this.props.navigator.replace({    title: 'Login',    component: LoginScreen      });      //console.dir(jsonData.items);    })    .catch(error => console.log(error));   },    renderLoadingMessage: function() { return (      <View style={styles.container}>        <Text>          Logging Out...        </Text>        <ActivityIndicatorIOS          animating={this.state.isLoading}          style={[styles.centering, {height: 80}]}          size="large"          />      </View>    );   },   renderButton: function() {     return (       <TouchableHighlight onPress={() => this.fetchResults()}>         <View >           <Text >Logout</Text>         </View>       </TouchableHighlight>     );   },    renderResults: function() {      return (        <Text>          {this.state.dataSource}        </Text>      );    },      render: function() {        if (this.state.isLoading) {          return this.renderButton();        }          else {            return this.renderResults(); }          },        });        var styles = StyleSheet.create({          container: {            flex: 1,            flexDirection: 'column',            justifyContent: 'center',            alignItems: 'center',            backgroundColor: '#5AC8FA',          },          thumbnail: {            width: 70,            height: 108,            marginRight: 16,          },          label: {            fontSize: 24,            fontWeight: 'normal',            color: '#fff',          },          listView: {          },          rightContainer: {            flex: 1,          },          row: {            flex: 1,            flexDirection: 'column',            justifyContent: 'center',            alignItems: 'center',            backgroundColor: '#5AC8FA',            paddingTop: 20,            paddingBottom: 20,            paddingLeft: 20,            paddingRight: 20,            marginTop: 1,          },          title: {            fontSize: 20,            fontWeight: 'bold',            color: '#fff',          },          subtitle: {            fontSize: 16,            fontWeight: 'normal',            color: '#fff',          },        });        module.exports = ResultsScreen;